=== New session started at 2025-02-26 09:03:06 ===
2025-02-26 09:03:06,753 - __main__ - INFO - Starting new session of Options Visualizer
2025-02-26 09:03:06,863 - __main__ - INFO - Initializing Options Visualizer App
2025-02-26 09:03:06,867 - __main__ - INFO - Loading default ticker: SPY
2025-02-26 09:03:06,867 - __main__ - INFO - Fetching options data for SPY
2025-02-26 09:03:06,867 - yahoo_finance - INFO - Fetching fresh data for ticker: SPY
2025-02-26 09:03:07,426 - yahoo_finance - INFO - Got current price for SPY: 597.6579
2025-02-26 09:03:07,550 - yahoo_finance - INFO - Found 32 expiration dates for SPY
2025-02-26 09:03:07,661 - yahoo_finance - INFO - Fetched 1/32 expiration dates for SPY
2025-02-26 09:03:07,661 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:07,661 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:07,661 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:07,662 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:07,663 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:07,663 - options_data - INFO - Combined data shape: (139, 17)
2025-02-26 09:03:07,663 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:07,666 - options_data - INFO - Price range: 0.00 to 34.03
2025-02-26 09:03:07,666 - options_data - INFO - Strike range: 515.00 to 690.00
2025-02-26 09:03:07,666 - options_data - INFO - DTE range: 0 to 0
2025-02-26 09:03:07,666 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:07,666 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:07,666 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                       int64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:07,666 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:07,666 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:07,666 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:07,666 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:07,666 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:07,667 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:07,667 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:07,667 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:07,667 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:07,667 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:07,826 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:07,826 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:07,826 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:07,827 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942577475  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:07,827 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942577475  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:07,827 - options_data - INFO - Found 1 expiration dates
2025-02-26 09:03:07,827 - __main__ - INFO - Applying interpolation to temporary data
2025-02-26 09:03:07,827 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:07,827 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:07,828 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942577475  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:07,828 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942577475  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:07,828 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/1)
2025-02-26 09:03:08,011 - __main__ - INFO - Plot updated successfully for Spot
2025-02-26 09:03:08,158 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:08,158 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:08,158 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:08,158 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:08,159 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:08,159 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:08,159 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:08,160 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:08,160 - options_data - INFO - Combined data shape: (283, 17)
2025-02-26 09:03:08,160 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:08,161 - options_data - INFO - Price range: 0.00 to 55.49
2025-02-26 09:03:08,161 - options_data - INFO - Strike range: 515.00 to 690.00
2025-02-26 09:03:08,162 - options_data - INFO - DTE range: 0 to 1
2025-02-26 09:03:08,162 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:08,162 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:08,162 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                       int64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:08,162 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:08,162 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:08,162 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:08,162 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:08,162 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:08,162 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:08,162 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:08,455 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:08,455 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:08,455 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:08,456 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:08,456 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:08,457 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:08,457 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:08,458 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:08,458 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:08,459 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:08,459 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:08,460 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:08,460 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:08,461 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:08,461 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:08,461 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:08,462 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:08,463 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:08,463 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:08,464 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:08,465 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:08,465 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:08,466 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:08,466 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:08,467 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:08,468 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:08,468 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:08,469 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:08,469 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:08,469 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:08,469 - options_data - INFO - Found 2 expiration dates
2025-02-26 09:03:08,470 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/2)
2025-02-26 09:03:08,470 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:08,470 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:08,470 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:08,471 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942594282  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:08,471 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942594282  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:08,627 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:08,627 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:08,627 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:08,628 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:08,628 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:08,628 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:08,628 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:08,629 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:08,629 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:08,629 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:08,629 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:08,630 - options_data - INFO - Combined data shape: (645, 17)
2025-02-26 09:03:08,630 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:08,632 - options_data - INFO - Price range: 0.00 to 235.44
2025-02-26 09:03:08,632 - options_data - INFO - Strike range: 360.00 to 700.00
2025-02-26 09:03:08,632 - options_data - INFO - DTE range: 0 to 2
2025-02-26 09:03:08,632 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:08,632 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:08,632 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                       int64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:08,632 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:08,632 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:08,632 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:08,633 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:08,633 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:08,633 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:08,633 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:08,633 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:08,633 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:08,633 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:08,633 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:08,633 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:09,283 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:09,284 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:09,284 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:09,286 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:09,287 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:09,289 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:09,290 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:09,291 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:09,293 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:09,294 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:09,295 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:09,296 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:09,298 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:09,299 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:09,300 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:09,302 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:09,304 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:09,305 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:09,306 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:09,308 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:09,309 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:09,311 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:09,312 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:09,313 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:09,314 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:09,316 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:09,317 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:09,318 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:09,320 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:09,320 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:09,320 - options_data - INFO - Found 3 expiration dates
2025-02-26 09:03:09,323 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/3)
2025-02-26 09:03:09,338 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:09,338 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:09,338 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:09,338 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942611089  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:09,339 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942611089  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:09,456 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:09,457 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:09,457 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:09,457 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:09,457 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:09,457 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:09,457 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:09,458 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:09,458 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:09,458 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:09,458 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:09,458 - options_data - INFO - Processing data for expiration date: 2025-03-03
2025-02-26 09:03:09,458 - options_data - INFO - Processing 67 call options for 2025-03-03
2025-02-26 09:03:09,458 - options_data - INFO - Processing 73 put options for 2025-03-03
2025-02-26 09:03:09,459 - options_data - INFO - Combined data shape: (785, 17)
2025-02-26 09:03:09,459 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:09,460 - options_data - INFO - Price range: 0.00 to 235.44
2025-02-26 09:03:09,460 - options_data - INFO - Strike range: 360.00 to 700.00
2025-02-26 09:03:09,460 - options_data - INFO - DTE range: 0 to 5
2025-02-26 09:03:09,460 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:09,460 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:09,460 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                       int64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:09,460 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:09,460 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:09,460 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:09,460 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:09,461 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:09,461 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:09,461 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:09,461 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:09,461 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:10,248 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:10,248 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:10,248 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:10,250 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:10,251 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:10,252 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:10,253 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:10,255 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:10,256 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:10,257 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:10,258 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:10,259 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:10,261 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:10,262 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:10,263 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:10,264 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:10,266 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:10,268 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:10,269 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:10,271 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:10,273 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:10,274 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:10,275 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:10,277 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:10,278 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:10,280 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:10,281 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:10,282 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:10,284 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:10,284 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:10,284 - options_data - INFO - Found 4 expiration dates
2025-02-26 09:03:10,289 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/4)
2025-02-26 09:03:10,290 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:10,290 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:10,290 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:10,290 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942627896  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:10,291 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942627896  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:10,403 - yahoo_finance - INFO - Fetched 5/32 expiration dates for SPY
2025-02-26 09:03:10,403 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:10,403 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:10,403 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:10,403 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:10,403 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:10,404 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:10,404 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:10,404 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:10,404 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:10,404 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:10,405 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:10,405 - options_data - INFO - Processing data for expiration date: 2025-03-03
2025-02-26 09:03:10,405 - options_data - INFO - Processing 67 call options for 2025-03-03
2025-02-26 09:03:10,405 - options_data - INFO - Processing 73 put options for 2025-03-03
2025-02-26 09:03:10,405 - options_data - INFO - Processing data for expiration date: 2025-03-04
2025-02-26 09:03:10,406 - options_data - INFO - Processing 59 call options for 2025-03-04
2025-02-26 09:03:10,406 - options_data - INFO - Processing 69 put options for 2025-03-04
2025-02-26 09:03:10,407 - options_data - INFO - Combined data shape: (913, 17)
2025-02-26 09:03:10,407 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:10,408 - options_data - INFO - Price range: 0.00 to 235.44
2025-02-26 09:03:10,408 - options_data - INFO - Strike range: 360.00 to 700.00
2025-02-26 09:03:10,408 - options_data - INFO - DTE range: 0 to 6
2025-02-26 09:03:10,408 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:10,408 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:10,408 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                       int64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:10,408 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:10,408 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:10,408 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:10,408 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:10,408 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:10,409 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:10,409 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:10,409 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:10,409 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:10,409 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:11,333 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:11,333 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:11,333 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:11,335 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:11,337 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:11,339 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:11,340 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:11,342 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:11,343 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:11,344 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:11,346 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:11,347 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:11,348 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:11,350 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:11,351 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:11,352 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:11,354 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:11,356 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:11,358 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:11,360 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:11,362 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:11,363 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:11,365 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:11,367 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:11,368 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:11,370 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:11,372 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:11,373 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:11,375 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:11,375 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:11,375 - options_data - INFO - Found 5 expiration dates
2025-02-26 09:03:11,412 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/5)
2025-02-26 09:03:11,413 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:11,413 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:11,413 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:11,413 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942644703  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:11,413 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942644703  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:11,586 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:11,586 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:11,586 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:11,586 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:11,587 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:11,587 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:11,588 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:11,588 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:11,588 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:11,588 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:11,589 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:11,589 - options_data - INFO - Processing data for expiration date: 2025-03-03
2025-02-26 09:03:11,589 - options_data - INFO - Processing 67 call options for 2025-03-03
2025-02-26 09:03:11,589 - options_data - INFO - Processing 73 put options for 2025-03-03
2025-02-26 09:03:11,590 - options_data - INFO - Processing data for expiration date: 2025-03-04
2025-02-26 09:03:11,590 - options_data - INFO - Processing 59 call options for 2025-03-04
2025-02-26 09:03:11,590 - options_data - INFO - Processing 69 put options for 2025-03-04
2025-02-26 09:03:11,591 - options_data - INFO - Processing data for expiration date: 2025-03-05
2025-02-26 09:03:11,591 - options_data - INFO - Processing 44 call options for 2025-03-05
2025-02-26 09:03:11,591 - options_data - INFO - Processing 63 put options for 2025-03-05
2025-02-26 09:03:11,592 - options_data - INFO - Combined data shape: (1020, 17)
2025-02-26 09:03:11,592 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:11,594 - options_data - INFO - Price range: 0.00 to 235.44
2025-02-26 09:03:11,594 - options_data - INFO - Strike range: 360.00 to 700.00
2025-02-26 09:03:11,594 - options_data - INFO - DTE range: 0 to 7
2025-02-26 09:03:11,594 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:11,594 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:11,594 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                     float64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:11,594 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:11,594 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:11,594 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:11,594 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:11,595 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:11,595 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:11,595 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:11,595 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:11,595 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:12,629 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:12,630 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:12,630 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:12,632 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:12,634 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:12,635 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:12,637 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:12,639 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:12,640 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:12,642 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:12,643 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:12,645 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:12,647 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:12,648 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:12,650 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:12,651 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:12,653 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:12,655 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:12,657 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:12,659 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:12,660 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:12,662 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:12,664 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:12,666 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:12,668 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:12,669 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:12,671 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:12,673 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:12,674 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:12,674 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:12,675 - options_data - INFO - Found 6 expiration dates
2025-02-26 09:03:12,675 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/6)
2025-02-26 09:03:12,676 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:12,676 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:12,676 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:12,676 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942661510  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:12,676 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942661510  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:12,792 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:12,792 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:12,792 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:12,792 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:12,792 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:12,792 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:12,793 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:12,793 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:12,793 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:12,793 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:12,794 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:12,794 - options_data - INFO - Processing data for expiration date: 2025-03-03
2025-02-26 09:03:12,794 - options_data - INFO - Processing 67 call options for 2025-03-03
2025-02-26 09:03:12,794 - options_data - INFO - Processing 73 put options for 2025-03-03
2025-02-26 09:03:12,794 - options_data - INFO - Processing data for expiration date: 2025-03-04
2025-02-26 09:03:12,795 - options_data - INFO - Processing 59 call options for 2025-03-04
2025-02-26 09:03:12,795 - options_data - INFO - Processing 69 put options for 2025-03-04
2025-02-26 09:03:12,795 - options_data - INFO - Processing data for expiration date: 2025-03-05
2025-02-26 09:03:12,795 - options_data - INFO - Processing 44 call options for 2025-03-05
2025-02-26 09:03:12,795 - options_data - INFO - Processing 63 put options for 2025-03-05
2025-02-26 09:03:12,796 - options_data - INFO - Processing data for expiration date: 2025-03-06
2025-02-26 09:03:12,796 - options_data - INFO - Processing 50 call options for 2025-03-06
2025-02-26 09:03:12,796 - options_data - INFO - Processing 59 put options for 2025-03-06
2025-02-26 09:03:12,797 - options_data - INFO - Combined data shape: (1129, 17)
2025-02-26 09:03:12,797 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:12,798 - options_data - INFO - Price range: 0.00 to 235.44
2025-02-26 09:03:12,798 - options_data - INFO - Strike range: 360.00 to 700.00
2025-02-26 09:03:12,798 - options_data - INFO - DTE range: 0 to 8
2025-02-26 09:03:12,798 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:12,798 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:12,799 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                     float64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:12,799 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:12,799 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:12,799 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:12,799 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:12,799 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:12,799 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:12,799 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:13,936 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:13,936 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:13,936 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:13,939 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:13,941 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:13,942 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:13,944 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:13,946 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:13,948 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:13,949 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:13,951 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:13,953 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:13,954 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:13,956 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:13,958 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:13,959 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:13,961 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:13,963 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:13,965 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:13,967 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:13,969 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:13,971 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:13,973 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:13,975 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:13,977 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:13,979 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:13,981 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:13,983 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:13,985 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:13,985 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:13,985 - options_data - INFO - Found 7 expiration dates
2025-02-26 09:03:13,985 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/7)
2025-02-26 09:03:13,986 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:13,986 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:13,986 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:13,986 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942678317  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:13,987 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942678317  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:14,117 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:14,117 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:14,117 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:14,118 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:14,118 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:14,118 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:14,119 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:14,119 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:14,119 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:14,119 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:14,120 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:14,120 - options_data - INFO - Processing data for expiration date: 2025-03-03
2025-02-26 09:03:14,120 - options_data - INFO - Processing 67 call options for 2025-03-03
2025-02-26 09:03:14,120 - options_data - INFO - Processing 73 put options for 2025-03-03
2025-02-26 09:03:14,120 - options_data - INFO - Processing data for expiration date: 2025-03-04
2025-02-26 09:03:14,121 - options_data - INFO - Processing 59 call options for 2025-03-04
2025-02-26 09:03:14,121 - options_data - INFO - Processing 69 put options for 2025-03-04
2025-02-26 09:03:14,121 - options_data - INFO - Processing data for expiration date: 2025-03-05
2025-02-26 09:03:14,121 - options_data - INFO - Processing 44 call options for 2025-03-05
2025-02-26 09:03:14,121 - options_data - INFO - Processing 63 put options for 2025-03-05
2025-02-26 09:03:14,122 - options_data - INFO - Processing data for expiration date: 2025-03-06
2025-02-26 09:03:14,122 - options_data - INFO - Processing 50 call options for 2025-03-06
2025-02-26 09:03:14,122 - options_data - INFO - Processing 59 put options for 2025-03-06
2025-02-26 09:03:14,122 - options_data - INFO - Processing data for expiration date: 2025-03-07
2025-02-26 09:03:14,122 - options_data - INFO - Processing 101 call options for 2025-03-07
2025-02-26 09:03:14,123 - options_data - INFO - Processing 93 put options for 2025-03-07
2025-02-26 09:03:14,124 - options_data - INFO - Combined data shape: (1323, 17)
2025-02-26 09:03:14,124 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:14,125 - options_data - INFO - Price range: 0.00 to 235.44
2025-02-26 09:03:14,125 - options_data - INFO - Strike range: 360.00 to 700.00
2025-02-26 09:03:14,125 - options_data - INFO - DTE range: 0 to 9
2025-02-26 09:03:14,125 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:14,125 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:14,126 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                     float64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:14,126 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:14,126 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:14,126 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:14,126 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:14,126 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:14,126 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:14,126 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:15,465 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:15,465 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:15,465 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:15,468 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:15,470 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:15,472 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:15,474 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:15,477 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:15,479 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:15,481 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:15,483 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:15,485 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:15,487 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:15,489 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:15,491 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:15,493 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:15,496 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:15,498 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:15,501 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:15,503 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:15,505 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:15,507 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:15,510 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:15,512 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:15,514 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:15,517 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:15,519 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:15,521 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:15,523 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:15,523 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:15,523 - options_data - INFO - Found 8 expiration dates
2025-02-26 09:03:15,524 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/8)
2025-02-26 09:03:15,524 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:15,524 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:15,524 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:15,525 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942711931  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:15,525 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942711931  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:15,699 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:15,699 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:15,699 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:15,699 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:15,700 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:15,700 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:15,700 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:15,701 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:15,701 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:15,701 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:15,702 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:15,702 - options_data - INFO - Processing data for expiration date: 2025-03-03
2025-02-26 09:03:15,702 - options_data - INFO - Processing 67 call options for 2025-03-03
2025-02-26 09:03:15,702 - options_data - INFO - Processing 73 put options for 2025-03-03
2025-02-26 09:03:15,703 - options_data - INFO - Processing data for expiration date: 2025-03-04
2025-02-26 09:03:15,703 - options_data - INFO - Processing 59 call options for 2025-03-04
2025-02-26 09:03:15,703 - options_data - INFO - Processing 69 put options for 2025-03-04
2025-02-26 09:03:15,703 - options_data - INFO - Processing data for expiration date: 2025-03-05
2025-02-26 09:03:15,704 - options_data - INFO - Processing 44 call options for 2025-03-05
2025-02-26 09:03:15,704 - options_data - INFO - Processing 63 put options for 2025-03-05
2025-02-26 09:03:15,704 - options_data - INFO - Processing data for expiration date: 2025-03-06
2025-02-26 09:03:15,704 - options_data - INFO - Processing 50 call options for 2025-03-06
2025-02-26 09:03:15,705 - options_data - INFO - Processing 59 put options for 2025-03-06
2025-02-26 09:03:15,705 - options_data - INFO - Processing data for expiration date: 2025-03-07
2025-02-26 09:03:15,705 - options_data - INFO - Processing 101 call options for 2025-03-07
2025-02-26 09:03:15,705 - options_data - INFO - Processing 93 put options for 2025-03-07
2025-02-26 09:03:15,706 - options_data - INFO - Processing data for expiration date: 2025-03-14
2025-02-26 09:03:15,706 - options_data - INFO - Processing 96 call options for 2025-03-14
2025-02-26 09:03:15,706 - options_data - INFO - Processing 95 put options for 2025-03-14
2025-02-26 09:03:15,708 - options_data - INFO - Combined data shape: (1514, 17)
2025-02-26 09:03:15,708 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:15,709 - options_data - INFO - Price range: 0.00 to 235.44
2025-02-26 09:03:15,709 - options_data - INFO - Strike range: 360.00 to 700.00
2025-02-26 09:03:15,709 - options_data - INFO - DTE range: 0 to 16
2025-02-26 09:03:15,709 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:15,709 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:15,710 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                     float64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:15,710 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:15,710 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:15,710 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:15,710 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:15,710 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:15,710 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:15,710 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
2025-02-26 09:03:17,245 - options_data - INFO - Successfully processed options data into xarray Dataset
2025-02-26 09:03:17,246 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:17,246 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:17,249 - options_data - INFO - Interpolated lastPrice for call
2025-02-26 09:03:17,252 - options_data - INFO - Interpolated bid for call
2025-02-26 09:03:17,254 - options_data - INFO - Interpolated ask for call
2025-02-26 09:03:17,257 - options_data - INFO - Interpolated change for call
2025-02-26 09:03:17,260 - options_data - INFO - Interpolated percentChange for call
2025-02-26 09:03:17,262 - options_data - INFO - Interpolated volume for call
2025-02-26 09:03:17,265 - options_data - INFO - Interpolated openInterest for call
2025-02-26 09:03:17,268 - options_data - INFO - Interpolated impliedVolatility for call
2025-02-26 09:03:17,270 - options_data - INFO - Interpolated inTheMoney for call
2025-02-26 09:03:17,273 - options_data - INFO - Interpolated spot for call
2025-02-26 09:03:17,275 - options_data - INFO - Interpolated price for call
2025-02-26 09:03:17,278 - options_data - INFO - Interpolated intrinsic_value for call
2025-02-26 09:03:17,280 - options_data - INFO - Interpolated extrinsic_value for call
2025-02-26 09:03:17,283 - options_data - INFO - Interpolated lastPrice for put
2025-02-26 09:03:17,286 - options_data - INFO - Interpolated bid for put
2025-02-26 09:03:17,288 - options_data - INFO - Interpolated ask for put
2025-02-26 09:03:17,291 - options_data - INFO - Interpolated change for put
2025-02-26 09:03:17,294 - options_data - INFO - Interpolated percentChange for put
2025-02-26 09:03:17,296 - options_data - INFO - Interpolated volume for put
2025-02-26 09:03:17,299 - options_data - INFO - Interpolated openInterest for put
2025-02-26 09:03:17,302 - options_data - INFO - Interpolated impliedVolatility for put
2025-02-26 09:03:17,304 - options_data - INFO - Interpolated inTheMoney for put
2025-02-26 09:03:17,307 - options_data - INFO - Interpolated spot for put
2025-02-26 09:03:17,309 - options_data - INFO - Interpolated price for put
2025-02-26 09:03:17,312 - options_data - INFO - Interpolated intrinsic_value for put
2025-02-26 09:03:17,315 - options_data - INFO - Interpolated extrinsic_value for put
2025-02-26 09:03:17,315 - options_data - INFO - Completed 2D interpolation
2025-02-26 09:03:17,315 - options_data - INFO - Found 9 expiration dates
2025-02-26 09:03:17,315 - __main__ - INFO - Updated expiry display: 2025-02-26 (1/9)
2025-02-26 09:03:17,316 - __main__ - INFO - Re-applying interpolation with updated data
2025-02-26 09:03:17,316 - options_data - INFO - Starting 2D interpolation of missing values
2025-02-26 09:03:17,316 - options_data - INFO - Interpolating numeric variables: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:17,316 - options_data - ERROR - Error during interpolation: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942745545  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.

2025-02-26 09:03:17,316 - options_data - ERROR - Traceback (most recent call last):
  File "/Users/reevefrancis/repos/options_visualizer/python/options_data.py", line 340, in interpolate_missing_values_2d
    interpolated_values = griddata(
        points_known, values_known, (strike_grid, dte_grid), method='linear'
    )
  File "/Users/reevefrancis/venvs/projects/lib/python3.13/site-packages/scipy/interpolate/_ndgriddata.py", line 323, in griddata
    ip = LinearNDInterpolator(points, values, fill_value=fill_value,
                              rescale=rescale)
  File "_interpnd.pyx", line 302, in scipy.interpolate._interpnd.LinearNDInterpolator.__init__
  File "_interpnd.pyx", line 93, in scipy.interpolate._interpnd.NDInterpolatorBase.__init__
  File "_interpnd.pyx", line 306, in scipy.interpolate._interpnd.LinearNDInterpolator._calculate_triangulation
  File "_qhull.pyx", line 1885, in scipy.spatial._qhull.Delaunay.__init__
  File "_qhull.pyx", line 352, in scipy.spatial._qhull._Qhull.__init__
scipy.spatial._qhull.QhullError: QH6154 Qhull precision error: Initial simplex is flat (facet 1 is coplanar with the interior point)

While executing:  | qhull d Qbb Qc Qt Q12 Qz
Options selected for Qhull 2019.1.r 2019/06/21:
  run-id 942745545  delaunay  Qbbound-last  Qcoplanar-keep  Qtriangulate
  Q12-allow-wide  Qz-infinity-point  _pre-merge  _zero-centrum  Qinterior-keep
  Pgood  _max-width 1.2e+02  Error-roundoff 9.6e-13  _one-merge 6.7e-12
  Visible-distance 1.9e-12  U-max-coplanar 1.9e-12  Width-outside 3.8e-12
  _wide-facet 1.1e-11  _maxoutside 7.7e-12

The input to qhull appears to be less than 3 dimensional, or a
computation has overflowed.

Qhull could not construct a clearly convex simplex from points:
- p1(v4): 5.7e+02     0    23
- p60(v3): 6.1e+02     0 6.9e+02
- p59(v2): 6.9e+02     0 5.3e+02
- p0(v1): 5.6e+02     0 1e-13

The center point is coplanar with a facet, or a vertex is coplanar
with a neighboring facet.  The maximum round off error for
computing distances is 9.6e-13.  The center point, facets and distances
to the center point are as follows:

center point    608.2        0    310.6

facet p60 p59 p0 distance=    0
facet p1 p59 p0 distance=    0
facet p1 p60 p0 distance=    0
facet p1 p60 p59 distance=    0

These points either have a maximum or minimum x-coordinate, or
they maximize the determinant for k coordinates.  Trial points
are first selected from points that maximize a coordinate.

The min and max coordinates for each dimension are:
  0:       565       690  difference=  125
  1:         0         0  difference=    0
  2:  1.049e-13       690  difference=  690

If the input should be full dimensional, you have several options that
may determine an initial simplex:
  - use 'QJ'  to joggle the input and make it full dimensional
  - use 'QbB' to scale the points to the unit cube
  - use 'QR0' to randomly rotate the input for different maximum points
  - use 'Qs'  to search all points for the initial simplex
  - use 'En'  to specify a maximum roundoff error less than 9.6e-13.
  - trace execution with 'T3' to see the determinant for each point.

If the input is lower dimensional:
  - use 'QJ' to joggle the input and make it full dimensional
  - use 'Qbk:0Bk:0' to delete coordinate k from the input.  You should
    pick the coordinate with the least range.  The hull will have the
    correct topology.
  - determine the flat containing the points, rotate the points
    into a coordinate plane, and delete the other coordinates.
  - add one or more points to make the input full dimensional.


2025-02-26 09:03:17,782 - yahoo_finance - INFO - Fetched 10/32 expiration dates for SPY
2025-02-26 09:03:17,782 - options_data - INFO - Initializing OptionsDataProcessor with current_price: 597.6579
2025-02-26 09:03:17,782 - options_data - INFO - Processing options data with current price: 597.6579
2025-02-26 09:03:17,782 - options_data - INFO - Processing data for expiration date: 2025-02-26
2025-02-26 09:03:17,782 - options_data - INFO - Processing 60 call options for 2025-02-26
2025-02-26 09:03:17,782 - options_data - INFO - Processing 79 put options for 2025-02-26
2025-02-26 09:03:17,783 - options_data - INFO - Processing data for expiration date: 2025-02-27
2025-02-26 09:03:17,783 - options_data - INFO - Processing 60 call options for 2025-02-27
2025-02-26 09:03:17,783 - options_data - INFO - Processing 84 put options for 2025-02-27
2025-02-26 09:03:17,783 - options_data - INFO - Processing data for expiration date: 2025-02-28
2025-02-26 09:03:17,783 - options_data - INFO - Processing 186 call options for 2025-02-28
2025-02-26 09:03:17,783 - options_data - INFO - Processing 176 put options for 2025-02-28
2025-02-26 09:03:17,783 - options_data - INFO - Processing data for expiration date: 2025-03-03
2025-02-26 09:03:17,784 - options_data - INFO - Processing 67 call options for 2025-03-03
2025-02-26 09:03:17,784 - options_data - INFO - Processing 73 put options for 2025-03-03
2025-02-26 09:03:17,784 - options_data - INFO - Processing data for expiration date: 2025-03-04
2025-02-26 09:03:17,784 - options_data - INFO - Processing 59 call options for 2025-03-04
2025-02-26 09:03:17,784 - options_data - INFO - Processing 69 put options for 2025-03-04
2025-02-26 09:03:17,784 - options_data - INFO - Processing data for expiration date: 2025-03-05
2025-02-26 09:03:17,784 - options_data - INFO - Processing 44 call options for 2025-03-05
2025-02-26 09:03:17,785 - options_data - INFO - Processing 63 put options for 2025-03-05
2025-02-26 09:03:17,785 - options_data - INFO - Processing data for expiration date: 2025-03-06
2025-02-26 09:03:17,785 - options_data - INFO - Processing 50 call options for 2025-03-06
2025-02-26 09:03:17,785 - options_data - INFO - Processing 59 put options for 2025-03-06
2025-02-26 09:03:17,785 - options_data - INFO - Processing data for expiration date: 2025-03-07
2025-02-26 09:03:17,785 - options_data - INFO - Processing 101 call options for 2025-03-07
2025-02-26 09:03:17,785 - options_data - INFO - Processing 93 put options for 2025-03-07
2025-02-26 09:03:17,785 - options_data - INFO - Processing data for expiration date: 2025-03-14
2025-02-26 09:03:17,786 - options_data - INFO - Processing 96 call options for 2025-03-14
2025-02-26 09:03:17,786 - options_data - INFO - Processing 95 put options for 2025-03-14
2025-02-26 09:03:17,786 - options_data - INFO - Processing data for expiration date: 2025-03-21
2025-02-26 09:03:17,786 - options_data - INFO - Processing 209 call options for 2025-03-21
2025-02-26 09:03:17,786 - options_data - INFO - Processing 184 put options for 2025-03-21
2025-02-26 09:03:17,787 - options_data - INFO - Combined data shape: (1907, 17)
2025-02-26 09:03:17,787 - options_data - INFO - Calculating additional metrics
2025-02-26 09:03:17,788 - options_data - INFO - Price range: 0.00 to 411.10
2025-02-26 09:03:17,788 - options_data - INFO - Strike range: 180.00 to 820.00
2025-02-26 09:03:17,788 - options_data - INFO - DTE range: 0 to 23
2025-02-26 09:03:17,788 - options_data - INFO - Converting to xarray Dataset
2025-02-26 09:03:17,788 - options_data - INFO - DataFrame columns: ['contractSymbol', 'lastTradeDate', 'strike', 'lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'contractSize', 'currency', 'option_type', 'expiration', 'DTE', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:17,788 - options_data - INFO - DataFrame dtypes: contractSymbol                    object
lastTradeDate        datetime64[ns, UTC]
strike                           float64
lastPrice                        float64
bid                              float64
ask                              float64
change                           float64
percentChange                    float64
volume                           float64
openInterest                     float64
impliedVolatility                float64
inTheMoney                          bool
contractSize                      object
currency                          object
option_type                       object
expiration                datetime64[ns]
DTE                                int64
spot                             float64
price                            float64
intrinsic_value                  float64
extrinsic_value                  float64
dtype: object
2025-02-26 09:03:17,788 - options_data - INFO - Added known string column: contractSymbol
2025-02-26 09:03:17,788 - options_data - INFO - Added known string column: lastTradeDate
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: lastPrice
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: bid
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: ask
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: change
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: percentChange
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: volume
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: openInterest
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: impliedVolatility
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: inTheMoney
2025-02-26 09:03:17,788 - options_data - INFO - Added known string column: contractSize
2025-02-26 09:03:17,788 - options_data - INFO - Added known string column: currency
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: spot
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: price
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: intrinsic_value
2025-02-26 09:03:17,788 - options_data - INFO - Detected numeric column: extrinsic_value
2025-02-26 09:03:17,788 - options_data - INFO - Numeric columns: ['lastPrice', 'bid', 'ask', 'change', 'percentChange', 'volume', 'openInterest', 'impliedVolatility', 'inTheMoney', 'spot', 'price', 'intrinsic_value', 'extrinsic_value']
2025-02-26 09:03:17,788 - options_data - INFO - String columns: ['contractSymbol', 'lastTradeDate', 'contractSize', 'currency']
